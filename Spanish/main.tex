\documentclass[12pt, twoside, openright]{report}
\usepackage[utf8]{inputenc}
\usepackage[a4paper, width=150mm, top=25mm, bottom=25mm]{geometry}
% TODO: el espacio en blanco grande de las páginas va a la derecha o a la izquierda?
% TODO: Poner todos los "plugin" en cusriva
% TODO: eliminar todos los RED del documento (buscar ctrl+f)
% TODO: comprobar que los apartados empiezan en la pagina derecha y la izquierda queda en blanco (mirar las reglas de la escuela y todo eso porque parece que solo los capítulos están comenzando así)
% TODO: cambiar nombre de "listings" a "código" o algo así
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% group functionality %%
% individual functionality %
% ----- "separator"
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% language %%
\usepackage[spanish]{babel}
\usepackage{csquotes}

% -----

%% images %%
\usepackage{graphicx}

% set default images directory %
\graphicspath{ {images/} }

% float images %
\usepackage{float}

% include pfs for a3 pages %
\usepackage{pdfpages}

% directory trees %
\usepackage{dirtree}

% table colspan %
\usepackage{multicol}

% table rowspan %
\usepackage{multirow}

% -----

%% links %%
% includes index links %
\usepackage{hyperref}

% -----
% TODO: Volver a poner el header en la primera página de cada seccion
%% headers and footers %%
\usepackage{fancyhdr}
\pagestyle{fancy}

% remove all header and footer content %
\fancyhf{}

% custom header %
\fancyhead[RO,LE]{Winagent - Agente modular para servidores Windows}

% custom footer %
\fancyfoot[RO,LE]{\thepage}

% set top sepparation to 15pt %
\setlength{\headheight}{15pt}

%% redefine emty and plain styles %%
% empty pages are really empty %
\usepackage{emptypage}

% redefine plain stayle to put page numbers in their place in Chapter pages %
\fancypagestyle{plain}{
    \fancyhf{}                              % remove header and footer
    \fancyfoot[RO,LE]{\thepage}             % set position for page numbers
    \renewcommand{\headrulewidth}{0pt}     % remove header line
}

% -----

\usepackage{listings}
\usepackage{lstautogobble}
\usepackage{xcolor}
%New colors defined below
\definecolor{codegreen}{rgb}{0,0.5,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{redstrings}{rgb}{0.64,0.08,0.08}
\definecolor{operatorspurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

%Code listing style named "mystyle"
\lstdefinestyle{csharp}{
    language={[Sharp]C},
    autogobble,
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    keywordstyle={[2]\color{operatorspurple}\bf},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{redstrings},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4,
    otherkeywords={ JObject },
    morekeywords=[2]{ :, <, >, <<, >>, =, ? }
}

\lstdefinestyle{batch}{
    language={[WinXP]command.com},
    autogobble,
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{codegray},
    stringstyle=\color{redstrings},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=4,
    otherkeywords={ 
        --install,
        --uninstall,
        --start,
        --stop,
        --restart,
        --status,
        -Name,
        -BinaryPathName
    }
}

%"mystyle" code listing set
% \lstset{style=csharp}

% -----

%% text options %%
% rename table index %
\renewcommand\listtablename{Índice de tablas}

% set space between paragraphs %
\setlength{\parskip}{1em}

% first paragraph indent %
\usepackage{indentfirst}

% remove "Chapter nº" headings %
\usepackage{titlesec} 
\titleformat{\chapter}{\normalfont\bfseries}{\huge\thechapter}{1em}{\huge}

% -----

%% references %%
% truncate authors if >5
% same order than in the text
\usepackage[maxbibnames=4,sorting=none]{biblatex}
\addbibresource{references.bib}
%% \cite(text)
%% \parencite[see][p10](text)
%% \parencite[compare][](text)
%% \parencite[e.g.][page 300](text)
%% \printbibliography

% -----

%% blank title info %%
% this will generate a blank foil %
% TODO: the title page will be printed separately %
% \title{}
% \date{}

% TODO: eliminar esto, buscar todas las palabras en rojo para comprobarlas (comando \red)
\usepackage{xcolor}
\newcommand{\red}[1]{\textcolor{red}{#1}}

\begin{document}

%% title page %%
% \maketitle

%% indexes %%
\tableofcontents
\listoffigures
\listoftables

%% content %%

% introduction %
\chapter{Introducción}
\input{sections/1-introduccion}

\input{sections/2-objetivos}

\input{Spanish/sections/3-resumen-de-la-solucion-propuesta.tex}

% description %
\chapter{Descripción del trabajo}

\input{Spanish/sections/4-planificacion-y-seguimineto.tex}
\cleardoublepage
\input{Spanish/sections/5-arquitectura-y-tecnologias.tex}
\cleardoublepage
\input{Spanish/sections/6-espesificacion-y-analisis-de-requisitos.tex}
\cleardoublepage
\input{Spanish/sections/7-diseno-de-software.tex}

% \input{Spanish/sections/8-gestion-de-datos-e-informacion.tex}
\cleardoublepage
\input{Spanish/sections/9-pruebas-llevadas-a-cabo.tex}
\cleardoublepage
\input{Spanish/sections/10-manual-de-usuario.tex}

% conclusion %
\chapter{Conclusiones}
\input{Spanish/sections/12-conclusiones-y-tecnicas-y-personales.tex}

\input{Spanish/sections/11-principales-aportaciones.tex}

\input{Spanish/sections/13-trabajo-futuro.tex}

% conclusion %
\chapter{Anexos}
\input{Spanish/sections/14-anexos.tex}

% imprimir no referenciadas
\printbibliography
%TODO: Anexos
\end{document}
